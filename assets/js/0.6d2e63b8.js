(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{307:function(n,t,e){!function(n){"use strict";function t(n,t,e,i,a,r,s,o,l,u){"boolean"!=typeof s&&(l=o,o=s,s=!1);var d="function"==typeof e?e.options:e;n&&n.render&&(d.render=n.render,d.staticRenderFns=n.staticRenderFns,d._compiled=!0,a&&(d.functional=!0)),i&&(d._scopeId=i);var h,p=void 0;return r?(p=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),t&&t.call(this,l(n)),n&&n._registeredComponents&&n._registeredComponents.add(r)},d._ssrRegister=p):t&&(p=s?function(n){t.call(this,u(n,this.$root.$options.shadowRoot))}:function(n){t.call(this,o(n))}),p&&(d.functional?(h=d.render,d.render=function(n,t){return p.call(t),h(n,t)}):(s=d.beforeCreate,d.beforeCreate=s?[].concat(s,p):[p])),e}var e={name:"SliderButton",props:{value:{type:[Number,String],default:0},type:{type:String},tableauSliderType:{type:String}},data:function(){return{hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:null}},computed:{disabled:function(){return this.$parent.sliderDisabled},max:function(){return this.$parent.realMax},min:function(){return this.$parent.realMin},minInputVal:function(){return this.$parent.minInputVal},maxInputVal:function(){return this.$parent.maxInputVal},step:function(){return this.$parent.step},precision:function(){return this.$parent.precision},currentPosition:function(){return(this.value-this.min)/(this.max-this.min)*100+"%"},isRange:function(){return"值范围"===this.tableauSliderType},wrapperStyle:function(){return{left:this.currentPosition}}},watch:{dragging:function(n){this.$parent.dragging=n}},methods:{handleMouseEnter:function(){this.hovering=!0},handleMouseLeave:function(){this.hovering=!1},onButtonDown:function(n){this.disabled||(n.preventDefault(),this.onDragStart(n),document.body.style.cursor="ew-resize",this.$parent.handlerInputListBlur(),document.addEventListener("mousemove",this.onDragging),document.addEventListener("touchmove",this.onDragging),document.addEventListener("mouseup",this.onDragEnd),document.addEventListener("touchend",this.onDragEnd),document.addEventListener("contextmenu",this.onDragEnd))},onLeftKeyDown:function(){this.disabled||(this.newPosition=parseFloat(this.currentPosition)-this.step/(this.max-this.min)*100,this.setPosition(this.newPosition))},onRightKeyDown:function(){this.disabled||(this.newPosition=parseFloat(this.currentPosition)+this.step/(this.max-this.min)*100,this.setPosition(this.newPosition))},onDragStart:function(n){this.dragging=!0,this.isClick=!0,"touchstart"===n.type&&(n.clientY=n.touches[0].clientY,n.clientX=n.touches[0].clientX),this.startX=n.clientX,this.startPosition=parseFloat(this.currentPosition),this.newPosition=this.startPosition},onDragging:function(n){var t;this.dragging&&(this.isClick=!1,this.$parent.resetSize(),"touchmove"===n.type&&(n.clientY=n.touches[0].clientY,n.clientX=n.touches[0].clientX),this.currentX=n.clientX,t=(this.currentX-this.startX)/this.$parent.sliderSize*100,this.newPosition=this.startPosition+t,this.$emit("onDragging"),this.setPosition(this.newPosition))},onDragEnd:function(){var n=this;this.dragging&&(setTimeout((function(){n.dragging=!1,n.isClick||n.setPosition(n.newPosition),n.$emit("onDragEnd")}),0),document.body.style.cursor="",this.$parent.handlerChange(),document.removeEventListener("mousemove",this.onDragging),document.removeEventListener("touchmove",this.onDragging),document.removeEventListener("mouseup",this.onDragEnd),document.removeEventListener("touchend",this.onDragEnd),document.removeEventListener("contextmenu",this.onDragEnd))},setPosition:function(n){var t,e=this;null===n||isNaN(n)||(t=100/((this.max-this.min)/this.step),t=Math.round(n/t)*t*(this.max-this.min)*.01+this.min,t=parseFloat(t.toFixed(this.precision)),"max"===this.type&&(t<this.minInputVal?t=this.minInputVal:t>this.max&&(t=this.max)),"min"===this.type&&(t>this.maxInputVal?t=this.maxInputVal:t<this.min&&(t=this.min)),this.$emit("input",t),setTimeout((function(){e.$parent.handlerInput()}),0))}}},i=((a=function(){var n=this,t=n.$createElement;return(n._self._c||t)("div",{ref:"button",class:{hover:n.hovering,dragging:n.dragging},style:n.wrapperStyle,attrs:{tabindex:"0"},on:{mouseenter:n.handleMouseEnter,mouseleave:n.handleMouseLeave,mousedown:n.onButtonDown,touchstart:n.onButtonDown,focus:n.handleMouseEnter,blur:n.handleMouseLeave,keydown:[function(t){return!t.type.indexOf("key")&&n._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:n.onLeftKeyDown(t)},function(t){return!t.type.indexOf("key")&&n._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])||"button"in t&&2!==t.button?null:n.onRightKeyDown(t)},function(t){return!t.type.indexOf("key")&&n._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),n.onLeftKeyDown(t))},function(t){return!t.type.indexOf("key")&&n._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),n.onRightKeyDown(t))}]}},[n._t("default")],2)})._withStripped=!0,t({render:a,staticRenderFns:[]},void 0,e,void 0,!1,void 0,!1,void 0,void 0,void 0)),a={name:"SliderTrack",props:{trackCursor:{type:String,default:"grabbing"},tableauSliderType:{type:String}},data:function(){return{hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,minStartPosition:0,maxStartPosition:0,minNewPosition:null,maxNewPosition:null}},computed:{disabled:function(){return this.$parent.sliderDisabled},max:function(){return this.$parent.realMax},min:function(){return this.$parent.realMin},minInputVal:function(){return this.$parent.minInputVal},maxInputVal:function(){return this.$parent.maxInputVal},step:function(){return this.$parent.step},precision:function(){return this.$parent.precision},diffWidth:function(){return(this.maxInputVal-this.minInputVal)/(this.max-this.min)*100+"%"},currentMinPosition:function(){return(this.minInputVal-this.min)/(this.max-this.min)*100+"%"},currentMaxPosition:function(){return(this.maxInputVal-this.min)/(this.max-this.min)*100+"%"},isRange:function(){return"值范围"===this.tableauSliderType},wrapperStyle:function(){switch(this.tableauSliderType){case"值范围":return{left:this.currentMinPosition,width:this.diffWidth,cursor:this.trackCursor};case"至少":return{left:this.currentMinPosition,width:(this.max-this.minInputVal)/(this.max-this.min)*100+"%"};case"至多":return{left:0,width:this.currentMaxPosition};default:return{}}}},watch:{dragging:function(n){this.$parent.dragging=n}},methods:{handleMouseEnter:function(){this.hovering=!0},handleMouseLeave:function(){this.hovering=!1},onButtonDown:function(n){this.isRange&&(this.disabled||(n.preventDefault(),this.onDragStart(n),document.body.style.cursor="grabbing",this.$parent.handlerInputListBlur(),document.addEventListener("mousemove",this.onDragging),document.addEventListener("touchmove",this.onDragging),document.addEventListener("mouseup",this.onDragEnd),document.addEventListener("touchend",this.onDragEnd),document.addEventListener("contextmenu",this.onDragEnd)))},_setStartState:function(){this.minStartPosition=parseFloat(this.currentMinPosition),this.maxStartPosition=parseFloat(this.currentMaxPosition),this.minNewPosition=this.minStartPosition,this.maxNewPosition=this.maxStartPosition},onLeftKeyDown:function(){this.disabled||(this._setStartState(),this.setPosition([this.minNewPosition,this.maxNewPosition]))},onRightKeyDown:function(){this.disabled||(this._setStartState(),this.setPosition([this.minNewPosition,this.maxNewPosition]))},onDragStart:function(n){this.dragging=!0,this.isClick=!0,"touchstart"===n.type&&(n.clientY=n.touches[0].clientY,n.clientX=n.touches[0].clientX),this.startX=n.clientX,this._setStartState()},onDragging:function(n){var t;this.dragging&&(this.isClick=!1,this.$parent.resetSize(),"touchmove"===n.type&&(n.clientY=n.touches[0].clientY,n.clientX=n.touches[0].clientX),this.currentX=n.clientX,t=(this.currentX-this.startX)/this.$parent.sliderSize*100,this.minNewPosition=this.minStartPosition+t,this.maxNewPosition=this.maxStartPosition+t,this.$emit("onDragging"),this.setPosition([this.minNewPosition,this.maxNewPosition]))},onDragEnd:function(){var n=this;this.dragging&&(setTimeout((function(){n.dragging=!1,n.isClick||n.setPosition([n.minNewPosition,n.maxNewPosition]),n.$emit("onDragEnd")}),0),document.body.style.cursor="",this.$parent.handlerChange(),document.removeEventListener("mousemove",this.onDragging),document.removeEventListener("touchmove",this.onDragging),document.removeEventListener("mouseup",this.onDragEnd),document.removeEventListener("touchend",this.onDragEnd),document.removeEventListener("contextmenu",this.onDragEnd))},_getValueByNewPos:function(n){if(null!==n&&!isNaN(n)){var t=100/((this.max-this.min)/this.step);return t=Math.round(n/t)*t*(this.max-this.min)*.01+this.min,parseFloat(t.toFixed(this.precision))}},setPosition:function(n){var t=this,e=this._getValueByNewPos(n[0]);n=this._getValueByNewPos(n[1]),e<this.min&&(e=this.min,n=this.maxInputVal),n>this.max&&(n=this.max,e=this.minInputVal),this.$parent.minInputVal=e,this.$parent.maxInputVal=n,setTimeout((function(){t.$parent.handlerInput()}),0)}}},r=((e=function(){var n=this,t=n.$createElement;return(n._self._c||t)("div",{ref:"button",staticClass:"tableau-slider-innertrack",class:{hover:n.hovering,dragging:n.dragging},style:n.wrapperStyle,attrs:{tabindex:"0"},on:{mouseenter:n.handleMouseEnter,mouseleave:n.handleMouseLeave,mousedown:n.onButtonDown,touchstart:n.onButtonDown,focus:n.handleMouseEnter,blur:n.handleMouseLeave,keydown:[function(t){return!t.type.indexOf("key")&&n._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:n.onLeftKeyDown(t)},function(t){return!t.type.indexOf("key")&&n._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])||"button"in t&&2!==t.button?null:n.onRightKeyDown(t)},function(t){return!t.type.indexOf("key")&&n._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),n.onLeftKeyDown(t))},function(t){return!t.type.indexOf("key")&&n._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),n.onRightKeyDown(t))}]}})})._withStripped=!0,{1:"值范围",2:"至少",3:"至多"}),s=(e={name:"BaseSlider",components:{SliderButton:i,SliderTrack:t({render:e,staticRenderFns:[]},void 0,a,void 0,!1,void 0,!1,void 0,void 0,void 0)},props:{min:{type:Number,default:0},max:{type:Number,default:100},value:{type:Array,default:function(){return[0,100]}},sliderType:{type:Number,default:1},step:{type:Number,default:1},trackColor:{type:String,default:"#e6e6e6"},innerTrackColor:{type:String,default:"#cbcbcb"},rangeinputDisabled:{type:Boolean,default:!1},cssScale:{type:Number,default:1},sliderBtnWidth:{type:Number,default:10}},data:function(){return{minInputVal:this.value[0],maxInputVal:this.value[1],oldInputValList:[],realMin:this.min,realMax:this.max,sliderSize:1,trackCursor:"grabbing",isDragging:!1}},computed:{tableauSliderType:function(){return r[this.sliderType]||"值范围"},precision:function(){var n=[this.min,this.max,this.step].map((function(n){return(n=(""+n).split(".")[1])?n.length:0}));return Math.max.apply(null,n)},realMinInputVal:function(){return this._getInputNumber(this.minInputVal)},realMaxInputVal:function(){return this._getInputNumber(this.maxInputVal)},inputValList:function(){return[this.realMinInputVal,this.realMaxInputVal]},minBtnStyle:function(){return{width:this.sliderBtnWidth+"px",marginLeft:"-"+this.sliderBtnWidth+"px"}},maxBtnStyle:function(){return{width:this.sliderBtnWidth+"px"}}},watch:{value:function(){this.minInputVal=this.value[0],this.maxInputVal=this.value[1]},min:function(){this._initState(),this._fixInputVals()},max:function(){this._initState(),this._fixInputVals()},tableauSliderType:function(){this._fixInputVals()}},methods:{resetSize:function(){var n;this.$refs.slider&&(n=this.cssScale,this.sliderSize=parseInt(this.$refs.slider.clientWidth*n,10)-2*this.sliderBtnWidth)},handlerInput:function(){this.$emit("input",this.inputValList)},handlerChange:function(){var n=this;this._inputValListChanged()&&setTimeout((function(){n.$emit("change",n.inputValList),n.oldInputValList=n.inputValList}),20)},minInputValChange:function(n){var t=n.target.value;this._getInputNumber(t)>this.maxInputVal?(n=[this.maxInputVal,t],this.minInputVal=n[0],this.maxInputVal=n[1]):this.minInputVal=t,this._initState(),this.handlerInput(),this.handlerChange()},maxInputValChange:function(n){var t=n.target.value;this._getInputNumber(t)<this.minInputVal?(n=[t,this.minInputVal],this.minInputVal=n[0],this.maxInputVal=n[1]):this.maxInputVal=t,this._initState(),this.handlerInput(),this.handlerChange()},hanlderInputFocus:function(n){n.currentTarget.select()},handlerInputBlur:function(n){n.currentTarget.blur()},minBtnDragEnd:function(){this.trackCursor="grabbing",this._initState()},handlerBtnDragging:function(){this.trackCursor="ew-resize",this.isDragging=!0},maxBtnDragEnd:function(){this.trackCursor="grabbing",this._initState()},handlerInputListBlur:function(){this.$el.querySelectorAll("input").forEach((function(n){n.blur()}))},_initState:function(){this.realMin=Math.min(this.min,this.realMinInputVal),this.realMax=Math.max(this.max,this.realMaxInputVal),this.isDragging=!1},_isSameArray:function(n,t){return n.every((function(n,e){return n===t[e]}))},_getInputNumber:function(n){return n=+n,isNaN(n)&&(n=0),n},_fixInputVals:function(){var n=this.tableauSliderType;"至少"===n?this.maxInputVal=this.max:"至多"===n&&(this.minInputVal=this.min)},_inputValListChanged:function(){var n=this;return!this.inputValList.every((function(t,e){return t===n.oldInputValList[e]}))}},mounted:function(){this.resetSize()},created:function(){this._fixInputVals()}},"undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase())),o=void 0,l={},u=(a=e,(e=function(){var n=this,t=n.$createElement;return(t=n._self._c||t)("div",{staticClass:"tableau-slider"},[t("div",{staticClass:"tableau-slider-rangeinput",class:{disabled:n.rangeinputDisabled}},[t("input",{class:{disabled:n.isDragging},attrs:{type:"text",disabled:"至多"===n.tableauSliderType||n.rangeinputDisabled,placeholder:"输入最小值"},domProps:{value:n.minInputVal},on:{change:n.minInputValChange,focus:n.hanlderInputFocus,keyup:function(t){return!t.type.indexOf("key")&&n._k(t.keyCode,"enter",13,t.key,"Enter")?null:n.handlerInputBlur(t)}}}),n._v(" "),t("input",{class:{disabled:n.isDragging},attrs:{type:"text",disabled:"至少"===n.tableauSliderType||n.rangeinputDisabled,placeholder:"输入最大值"},domProps:{value:n.maxInputVal},on:{change:n.maxInputValChange,focus:n.hanlderInputFocus,keyup:function(t){return!t.type.indexOf("key")&&n._k(t.keyCode,"enter",13,t.key,"Enter")?null:n.handlerInputBlur(t)}}})]),n._v(" "),t("div",{ref:"slider",staticClass:"tableau-slider-range"},[t("div",{staticClass:"tableau-slider-track",style:{background:n.trackColor}},[t("slider-track",{style:{background:n.innerTrackColor},attrs:{"track-cursor":n.trackCursor,"tableau-slider-type":n.tableauSliderType},on:{onDragging:function(t){n.isDragging=!0},onDragEnd:n._initState}}),n._v(" "),"至多"!==n.tableauSliderType?t("slider-button",{staticClass:"tableau-slider-btn btn-min",attrs:{type:"min","tableau-slider-type":n.tableauSliderType},on:{onDragging:n.handlerBtnDragging,onDragEnd:n.minBtnDragEnd},model:{value:n.minInputVal,callback:function(t){n.minInputVal=t},expression:"minInputVal"}},[n._t("slider-btn-min",[t("b",{staticClass:"dragable",style:n.minBtnStyle})])],2):n._e(),n._v(" "),"至少"!==n.tableauSliderType?t("slider-button",{staticClass:"tableau-slider-btn btn-max",attrs:{type:"max","tableau-slider-type":n.tableauSliderType},on:{onDragging:n.handlerBtnDragging,onDragEnd:n.maxBtnDragEnd},model:{value:n.maxInputVal,callback:function(t){n.maxInputVal=t},expression:"maxInputVal"}},[n._t("slider-btn-max",[t("b",{staticClass:"dragable",style:n.maxBtnStyle})])],2):n._e()],1)])])})._withStripped=!0,t({render:e,staticRenderFns:[]},(function(n){n&&n("data-v-530ff40a_0",{source:".tableau-slider {\n  margin: 0 auto;\n}\n.tableau-slider-rangeinput {\n  position: relative;\n  overflow: hidden;\n}\n.tableau-slider-rangeinput.disabled input[disabled] {\n  opacity: 1;\n  color: #333 !important;\n  height: 16px;\n  line-height: 16px;\n}\n.tableau-slider-rangeinput input[type=text] {\n  width: 50%;\n  height: 26px;\n  float: left;\n  padding: 2px;\n  line-height: 26px;\n  font-size: 13px;\n  border: 1px solid transparent;\n  background-color: #fff;\n  box-sizing: border-box;\n}\n.tableau-slider-rangeinput input[type=text]:hover {\n  border-color: rgba(0, 0, 0, 0.3);\n}\n.tableau-slider-rangeinput input[type=text]:focus {\n  outline: none;\n  font-size: 13.5px;\n  border-color: rgba(0, 0, 0, 0.5);\n}\n.tableau-slider-rangeinput input[type=text].disabled {\n  user-select: none;\n  border-color: transparent;\n  opacity: 1;\n}\n.tableau-slider-rangeinput input[type=text][disabled] {\n  user-select: none;\n  border: none;\n  opacity: 0.6;\n}\n.tableau-slider-rangeinput input[type=text] + input {\n  float: right;\n  text-align: right;\n}\n.tableau-slider-range, .tableau-slider-rangeinput {\n  margin: 3px 0;\n}\n.tableau-slider-track {\n  position: relative;\n  height: 4px;\n  margin-top: 9px;\n  border-color: #fff;\n}\n.tableau-slider-innertrack {\n  overflow: hidden;\n  position: relative;\n  height: 100%;\n}\n.tableau-slider-innertrack:focus {\n  outline: none;\n}\n.tableau-slider-range {\n  position: relative;\n  height: 20px;\n  overflow: hidden;\n  padding: 0 10px;\n  user-select: none;\n  margin-left: 0;\n  margin-right: 0;\n}\n.tableau-slider-btn {\n  position: absolute;\n  top: -5px;\n}\n.tableau-slider-btn.btn-min {\n  left: 0;\n}\n.tableau-slider-btn.btn-min b.dragable {\n  border-bottom-left-radius: 6.5px;\n  border-top-left-radius: 6.5px;\n}\n.tableau-slider-btn.btn-max {\n  left: 100%;\n}\n.tableau-slider-btn.btn-max b.dragable {\n  border-bottom-right-radius: 6.5px;\n  border-top-right-radius: 6.5px;\n}\n.tableau-slider-btn b.dragable {\n  display: block;\n  height: 14px;\n  cursor: ew-resize;\n  border: 1px solid #666;\n  background-color: #fff;\n  box-sizing: border-box;\n}\n\n/*# sourceMappingURL=Slider.vue.map */",map:{version:3,sources:["/Users/chenxuan/Documents/github/vue-tableau-slider/src/Slider.vue","Slider.vue"],names:[],mappings:"AAgSA;EACA,cAAA;AC/RA;ADgSA;EACA,kBAAA;EACA,gBAAA;AC9RA;ADgSA;EACA,UAAA;EACA,sBAAA;EACA,YAAA;EACA,iBAAA;AC9RA;ADiSA;EACA,UAAA;EACA,YAAA;EACA,WAAA;EACA,YAAA;EACA,iBAAA;EACA,eAAA;EACA,6BAAA;EACA,sBAAA;EACA,sBAAA;AC/RA;ADgSA;EACA,gCAAA;AC9RA;ADgSA;EACA,aAAA;EACA,iBAAA;EACA,gCAAA;AC9RA;ADgSA;EACA,iBAAA;EACA,yBAAA;EACA,UAAA;AC9RA;ADgSA;EACA,iBAAA;EACA,YAAA;EACA,YAAA;AC9RA;ADgSA;EACA,YAAA;EACA,iBAAA;AC9RA;ADkSA;EAEA,aAAA;ACjSA;ADmSA;EACA,kBAAA;EACA,WAAA;EACA,eAAA;EACA,kBAAA;ACjSA;ADmSA;EACA,gBAAA;EACA,kBAAA;EACA,YAAA;ACjSA;ADkSA;EACA,aAAA;AChSA;ADmSA;EACA,kBAAA;EACA,YAAA;EACA,gBAAA;EACA,eAAA;EACA,iBAAA;EACA,cAAA;EACA,eAAA;ACjSA;ADmSA;EACA,kBAAA;EACA,SAAA;ACjSA;ADkSA;EACA,OAAA;AChSA;ADiSA;EACA,gCAAA;EACA,6BAAA;AC/RA;ADkSA;EACA,UAAA;AChSA;ADiSA;EACA,iCAAA;EACA,8BAAA;AC/RA;ADkSA;EACA,cAAA;EACA,YAAA;EACA,iBAAA;EACA,sBAAA;EACA,sBAAA;EACA,sBAAA;AChSA;;AAEA,qCAAqC",file:"Slider.vue",sourcesContent:['<template>\n  <div class="tableau-slider">\n    <div\n      class="tableau-slider-rangeinput"\n      :class="{ disabled: rangeinputDisabled }"\n    >\n      <input\n        :class="{ disabled: isDragging }"\n        type="text"\n        :value="minInputVal"\n        @change="minInputValChange"\n        @focus="hanlderInputFocus"\n        @keyup.enter="handlerInputBlur"\n        :disabled="tableauSliderType === \'至多\' || rangeinputDisabled"\n        placeholder="输入最小值"\n      />\n      <input\n        :class="{ disabled: isDragging }"\n        type="text"\n        :value="maxInputVal"\n        @change="maxInputValChange"\n        @focus="hanlderInputFocus"\n        @keyup.enter="handlerInputBlur"\n        :disabled="tableauSliderType === \'至少\' || rangeinputDisabled"\n        placeholder="输入最大值"\n      />\n    </div>\n    <div class="tableau-slider-range" ref="slider">\n      <div class="tableau-slider-track" :style="{ background: trackColor }">\n        <slider-track\n          :track-cursor="trackCursor"\n          :tableau-slider-type="tableauSliderType"\n          :style="{ background: innerTrackColor }"\n          @onDragging="isDragging = true"\n          @onDragEnd="_initState"\n        ></slider-track>\n        <slider-button\n          v-if="tableauSliderType !== \'至多\'"\n          class="tableau-slider-btn btn-min"\n          v-model="minInputVal"\n          type="min"\n          :tableau-slider-type="tableauSliderType"\n          @onDragging="handlerBtnDragging"\n          @onDragEnd="minBtnDragEnd"\n        >\n          <slot name="slider-btn-min">\n            <b :style="minBtnStyle" class="dragable"></b>\n          </slot>\n        </slider-button>\n        <slider-button\n          v-if="tableauSliderType !== \'至少\'"\n          class="tableau-slider-btn btn-max"\n          v-model="maxInputVal"\n          type="max"\n          :tableau-slider-type="tableauSliderType"\n          @onDragging="handlerBtnDragging"\n          @onDragEnd="maxBtnDragEnd"\n        >\n          <slot name="slider-btn-max">\n            <b :style="maxBtnStyle" class="dragable"></b>\n          </slot>\n        </slider-button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import SliderButton from \'./SliderButton\';\n  import SliderTrack from \'./SliderTrack\';\n  const SLIDERTYPEMAP = {\n    1: \'值范围\',\n    2: \'至少\',\n    3: \'至多\',\n  }\n\n  export default {\n    name: \'BaseSlider\',\n    components: {\n      SliderButton,\n      SliderTrack\n    },\n    props: {\n      min: {\n        type: Number,\n        default: 0\n      },\n      max: {\n        type: Number,\n        default: 100\n      },\n      value: {\n        type: Array,\n        default: () => [0, 100]\n      },\n      sliderType: {\n        type: Number,\n        default: 1\n      },\n      step: {\n        type: Number,\n        default: 1\n      },\n      trackColor: {\n        type: String,\n        default: \'#e6e6e6\'\n      },\n      innerTrackColor: {\n        type: String,\n        default: \'#cbcbcb\'\n      },\n      rangeinputDisabled: {\n        type: Boolean,\n        default: false\n      },\n      cssScale: {\n        type: Number,\n        default: 1\n      },\n      sliderBtnWidth: {\n        type: Number,\n        default: 10\n      },\n    },\n    data () {\n      return {\n        minInputVal: this.value[0],\n        maxInputVal: this.value[1],\n        oldInputValList: [],\n        realMin: this.min,\n        realMax: this.max,\n        sliderSize: 1,\n        trackCursor: \'grabbing\',\n        isDragging: false\n      }\n    },\n    computed: {\n      tableauSliderType () {\n        return SLIDERTYPEMAP[this.sliderType] || \'值范围\'\n      },\n      precision () {\n        let precisions = [this.min, this.max, this.step].map(item => {\n          let decimal = (\'\' + item).split(\'.\')[1];\n          return decimal ? decimal.length : 0;\n        });\n        return Math.max.apply(null, precisions);\n      },\n      realMinInputVal () {\n        return this._getInputNumber(this.minInputVal)\n      },\n      realMaxInputVal () {\n        return this._getInputNumber(this.maxInputVal)\n      },\n      inputValList () {\n        return [this.realMinInputVal, this.realMaxInputVal]\n      },\n      minBtnStyle () {\n        return {\n          width: `${this.sliderBtnWidth}px`,\n          marginLeft: `-${this.sliderBtnWidth}px`,\n        }\n      },\n      maxBtnStyle () {\n        return {\n          width: `${this.sliderBtnWidth}px`,\n        }\n      }\n    },\n    watch: {\n      value () {\n        this.minInputVal = this.value[0]\n        this.maxInputVal = this.value[1]\n      },\n      min () {\n        this._initState();\n        this._fixInputVals();\n      },\n      max () {\n        this._initState();\n        this._fixInputVals();\n      },\n      tableauSliderType () {\n        this._fixInputVals()\n      }\n    },\n    methods: {\n      resetSize () {\n        if (this.$refs.slider) {\n          // 修正scale带来的鼠标操作偏差效果\n          const scale = this.cssScale\n          this.sliderSize = parseInt(this.$refs.slider[\'clientWidth\'] * scale, 10) - this.sliderBtnWidth * 2;\n        }\n      },\n      handlerInput () {\n        this.$emit("input", this.inputValList);\n      },\n      handlerChange () {\n        // 和历史值比较有更新的情况下触发emit-change\n        if (this._inputValListChanged()) {\n          setTimeout(() => {\n            this.$emit(\'change\', this.inputValList);\n            this.oldInputValList = this.inputValList\n          }, 20);\n        }\n      },\n      minInputValChange (e) {\n        const val = e.target.value\n        if (this._getInputNumber(val) > this.maxInputVal) {\n          [this.minInputVal, this.maxInputVal] = [this.maxInputVal, val]\n        } else {\n          this.minInputVal = val\n        }\n        this._initState()\n        this.handlerInput()\n        this.handlerChange()\n      },\n      maxInputValChange (e) {\n        const val = e.target.value\n        if (this._getInputNumber(val) < this.minInputVal) {\n          [this.minInputVal, this.maxInputVal] = [val, this.minInputVal]\n        } else {\n          this.maxInputVal = val\n        }\n        this._initState()\n        this.handlerInput()\n        this.handlerChange()\n      },\n      hanlderInputFocus (e) {\n        e.currentTarget.select()\n      },\n      handlerInputBlur (e) {\n        e.currentTarget.blur()\n      },\n      minBtnDragEnd () {\n        this.trackCursor = \'grabbing\'\n        this._initState()\n      },\n      handlerBtnDragging () {\n        this.trackCursor = \'ew-resize\';\n        this.isDragging = true\n      },\n      maxBtnDragEnd () {\n        this.trackCursor = \'grabbing\'\n        this._initState()\n      },\n      handlerInputListBlur () {\n        this.$el.querySelectorAll(\'input\').forEach(input => {\n          input.blur()\n        })\n      },\n      _initState () {\n        this.realMin = Math.min(this.min, this.realMinInputVal)\n        this.realMax = Math.max(this.max, this.realMaxInputVal)\n        this.isDragging = false\n      },\n      _isSameArray (arr, oldArr) {\n        return arr.every((item, index) => item === oldArr[index])\n      },\n      _getInputNumber (value) {\n        let val = +value\n        if (isNaN(val)) {\n          val = 0\n        }\n        return val\n      },\n      _fixInputVals () {\n        const tableauSliderType = this.tableauSliderType\n        if (tableauSliderType === \'至少\') {\n          this.maxInputVal = this.max\n        } else if (tableauSliderType === \'至多\') {\n          this.minInputVal = this.min\n        }\n      },\n      _inputValListChanged () {\n        return !this.inputValList\n          .every((item, index) => item === this.oldInputValList[index]);\n      },\n    },\n    mounted () {\n      this.resetSize();\n    },\n    created () {\n      this._fixInputVals()\n    },\n  }\n<\/script>\n\n<style lang="scss">\n  .tableau-slider {\n    margin: 0 auto;\n    &-rangeinput {\n      position: relative;\n      overflow: hidden;\n      &.disabled {\n        input[disabled] {\n          opacity: 1;\n          color: #333 !important;\n          height: 16px;\n          line-height: 16px;\n        }\n      }\n      input[type="text"] {\n        width: 50%;\n        height: 26px;\n        float: left;\n        padding: 2px;\n        line-height: 26px;\n        font-size: 13px;\n        border: 1px solid transparent;\n        background-color: #fff;\n        box-sizing: border-box;\n        &:hover {\n          border-color: rgba(0, 0, 0, 0.3);\n        }\n        &:focus {\n          outline: none;\n          font-size: 13.5px;\n          border-color: rgba(0, 0, 0, 0.5);\n        }\n        &.disabled {\n          user-select: none;\n          border-color: transparent;\n          opacity: 1;\n        }\n        &[disabled] {\n          user-select: none;\n          border: none;\n          opacity: 0.6;\n        }\n        + input {\n          float: right;\n          text-align: right;\n        }\n      }\n    }\n    &-range,\n    &-rangeinput {\n      margin: 3px 0;\n    }\n    &-track {\n      position: relative;\n      height: 4px;\n      margin-top: 9px;\n      border-color: #fff;\n    }\n    &-innertrack {\n      overflow: hidden;\n      position: relative;\n      height: 100%;\n      &:focus {\n        outline: none;\n      }\n    }\n    &-range {\n      position: relative;\n      height: 20px;\n      overflow: hidden;\n      padding: 0 10px;\n      user-select: none;\n      margin-left: 0;\n      margin-right: 0;\n    }\n    &-btn {\n      position: absolute;\n      top: -5px;\n      &.btn-min {\n        left: 0;\n        b.dragable {\n          border-bottom-left-radius: 6.5px;\n          border-top-left-radius: 6.5px;\n        }\n      }\n      &.btn-max {\n        left: 100%;\n        b.dragable {\n          border-bottom-right-radius: 6.5px;\n          border-top-right-radius: 6.5px;\n        }\n      }\n      b.dragable {\n        display: block;\n        height: 14px;\n        cursor: ew-resize;\n        border: 1px solid #666;\n        background-color: #fff;\n        box-sizing: border-box;\n      }\n    }\n  }\n</style>\n',".tableau-slider {\n  margin: 0 auto;\n}\n.tableau-slider-rangeinput {\n  position: relative;\n  overflow: hidden;\n}\n.tableau-slider-rangeinput.disabled input[disabled] {\n  opacity: 1;\n  color: #333 !important;\n  height: 16px;\n  line-height: 16px;\n}\n.tableau-slider-rangeinput input[type=text] {\n  width: 50%;\n  height: 26px;\n  float: left;\n  padding: 2px;\n  line-height: 26px;\n  font-size: 13px;\n  border: 1px solid transparent;\n  background-color: #fff;\n  box-sizing: border-box;\n}\n.tableau-slider-rangeinput input[type=text]:hover {\n  border-color: rgba(0, 0, 0, 0.3);\n}\n.tableau-slider-rangeinput input[type=text]:focus {\n  outline: none;\n  font-size: 13.5px;\n  border-color: rgba(0, 0, 0, 0.5);\n}\n.tableau-slider-rangeinput input[type=text].disabled {\n  user-select: none;\n  border-color: transparent;\n  opacity: 1;\n}\n.tableau-slider-rangeinput input[type=text][disabled] {\n  user-select: none;\n  border: none;\n  opacity: 0.6;\n}\n.tableau-slider-rangeinput input[type=text] + input {\n  float: right;\n  text-align: right;\n}\n.tableau-slider-range, .tableau-slider-rangeinput {\n  margin: 3px 0;\n}\n.tableau-slider-track {\n  position: relative;\n  height: 4px;\n  margin-top: 9px;\n  border-color: #fff;\n}\n.tableau-slider-innertrack {\n  overflow: hidden;\n  position: relative;\n  height: 100%;\n}\n.tableau-slider-innertrack:focus {\n  outline: none;\n}\n.tableau-slider-range {\n  position: relative;\n  height: 20px;\n  overflow: hidden;\n  padding: 0 10px;\n  user-select: none;\n  margin-left: 0;\n  margin-right: 0;\n}\n.tableau-slider-btn {\n  position: absolute;\n  top: -5px;\n}\n.tableau-slider-btn.btn-min {\n  left: 0;\n}\n.tableau-slider-btn.btn-min b.dragable {\n  border-bottom-left-radius: 6.5px;\n  border-top-left-radius: 6.5px;\n}\n.tableau-slider-btn.btn-max {\n  left: 100%;\n}\n.tableau-slider-btn.btn-max b.dragable {\n  border-bottom-right-radius: 6.5px;\n  border-top-right-radius: 6.5px;\n}\n.tableau-slider-btn b.dragable {\n  display: block;\n  height: 14px;\n  cursor: ew-resize;\n  border: 1px solid #666;\n  background-color: #fff;\n  box-sizing: border-box;\n}\n\n/*# sourceMappingURL=Slider.vue.map */"]},media:void 0})}),a,void 0,!1,void 0,!1,(function(n){return function(n,t){return e=n,i=t,n=s?i.media||"default":e,void((t=l[n]||(l[n]={ids:new Set,styles:[]})).ids.has(e)||(t.ids.add(e),n=i.source,i.map&&(n+="\n/*# sourceURL="+i.map.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i.map))))+" */"),t.element||(t.element=document.createElement("style"),t.element.type="text/css",i.media&&t.element.setAttribute("media",i.media),void 0===o&&(o=document.head||document.getElementsByTagName("head")[0]),o.appendChild(t.element)),"styleSheet"in t.element?(t.styles.push(n),t.element.styleSheet.cssText=t.styles.filter(Boolean).join("\n")):(e=t.ids.size-1,i=document.createTextNode(n),(n=t.element.childNodes)[e]&&t.element.removeChild(n[e]),n.length?t.element.insertBefore(i,n[e]):t.element.appendChild(i))));var e,i}}),void 0,void 0));u.install=function(n){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};n.component(t.componentName||u.name,u)},"undefined"!=typeof window&&window.Vue&&Vue.component(u.name,u),n.default=u,Object.defineProperty(n,"__esModule",{value:!0})}(t)}}]);